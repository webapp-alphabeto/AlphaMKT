<po-page-default>
  <ab-navbar
    [items]="opportunitys"
    (select)="opportunityActive = $event"
  >
    <div class="po-row">
      <ab-banner
        class="po-md-12"
        [items]="opportunityActive?.banners"
      ></ab-banner>
    </div>

    <div class="po-row">
      <ab-filter
        #abFilter
        class="po-md-2"
        [opportunityActive]="opportunityActive"
        (getFilter)="getProducts($event)"
      ></ab-filter>

      <div class="po-md-9">
         <div class="po-row flex-box">
          <h4 class="body-title" *ngIf="abFilter.filterActive">
            {{
              abFilter.filterActive?.collection +
                " | " +
                abFilter.filterActive?.map +
                " | " +
                abFilter.categoryActive | lowercase
            }}
          </h4>
          <po-divider class="po-md-12"></po-divider>
        </div>
        <div class="po-row po-mt-1 po-mb-2">
          <a
            *ngFor="let item of products"
            class="po-md-4 po-mb-2 card-product"
            [title]="item.model"
          >
            <div>
              <img
                [src]="item.photo"
                height="300px"
                [alt]="item.model"
                width="100%"
              />
            </div>
            <h3 class="model">
              {{
                (item.model | slice: 0:26) +
                  (item.model.length > 26 ? ".." : "") | lowercase
              }}
            </h3>
            <p class="reference">{{ item.reference }}</p>
            <h5 class="price">{{ item.price | currency: "BRL" }}</h5>

            <div class="card-complement">
              <div class="card-complement-buttom">
                <a class="button-bag"><span>adicionar a sacola </span></a>
              </div>
            </div>
          </a>
        </div> 
      </div>
    </div>
  </ab-navbar>
</po-page-default>
